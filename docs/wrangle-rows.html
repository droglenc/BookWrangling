<!DOCTYPE html>
<html lang="en" xml:lang="en">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Module 7 Wrangle Rows | Readings for MTH250 - Data Wrangling</title>
  <meta name="description" content="This book contains the readings for MTH250W at Northland College." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Module 7 Wrangle Rows | Readings for MTH250 - Data Wrangling" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://derekogle.com/BookWrangling/" />
  
  <meta property="og:description" content="This book contains the readings for MTH250W at Northland College." />
  <meta name="github-repo" content="droglenc/BookWrangling" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Module 7 Wrangle Rows | Readings for MTH250 - Data Wrangling" />
  
  <meta name="twitter:description" content="This book contains the readings for MTH250W at Northland College." />
  

<meta name="author" content="Derek H. Ogle" />


<meta name="date" content="2021-08-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="wrangle-columns.html"/>
<link rel="next" href="groupings.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.4.0/str_view.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Readings for Data Wrangling in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="preparation.html"><a href="preparation.html"><i class="fa fa-check"></i><b>1</b> Preparation</a></li>
<li class="chapter" data-level="2" data-path="data-structures.html"><a href="data-structures.html"><i class="fa fa-check"></i><b>2</b> Data Structures</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-structures.html"><a href="data-structures.html#vectors"><i class="fa fa-check"></i><b>2.1</b> Vectors</a></li>
<li class="chapter" data-level="2.2" data-path="data-structures.html"><a href="data-structures.html#data-classes"><i class="fa fa-check"></i><b>2.2</b> Data Classes</a></li>
<li class="chapter" data-level="2.3" data-path="data-structures.html"><a href="data-structures.html#data-frames"><i class="fa fa-check"></i><b>2.3</b> Data Frames</a></li>
<li class="chapter" data-level="2.4" data-path="data-structures.html"><a href="data-structures.html#tidy-data"><i class="fa fa-check"></i><b>2.4</b> Tidy Data</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="read-external-data-files.html"><a href="read-external-data-files.html"><i class="fa fa-check"></i><b>3</b> Read External Data Files</a>
<ul>
<li class="chapter" data-level="3.1" data-path="read-external-data-files.html"><a href="read-external-data-files.html#entering-data"><i class="fa fa-check"></i><b>3.1</b> Entering Data</a></li>
<li class="chapter" data-level="3.2" data-path="read-external-data-files.html"><a href="read-external-data-files.html#saving-the-external-file"><i class="fa fa-check"></i><b>3.2</b> Saving the External File</a></li>
<li class="chapter" data-level="3.3" data-path="read-external-data-files.html"><a href="read-external-data-files.html#reading-the-external-file"><i class="fa fa-check"></i><b>3.3</b> Reading the External File</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="relational-data.html"><a href="relational-data.html"><i class="fa fa-check"></i><b>4</b> Relational Data</a>
<ul>
<li class="chapter" data-level="4.1" data-path="relational-data.html"><a href="relational-data.html#join-concepts"><i class="fa fa-check"></i><b>4.1</b> Join Concepts</a></li>
<li class="chapter" data-level="4.2" data-path="relational-data.html"><a href="relational-data.html#joins-in-r"><i class="fa fa-check"></i><b>4.2</b> Joins in R</a></li>
<li class="chapter" data-level="4.3" data-path="relational-data.html"><a href="relational-data.html#examples-with-context"><i class="fa fa-check"></i><b>4.3</b> Examples With Context</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="pivot.html"><a href="pivot.html"><i class="fa fa-check"></i><b>5</b> Pivot</a>
<ul>
<li class="chapter" data-level="5.1" data-path="pivot.html"><a href="pivot.html#data-formats"><i class="fa fa-check"></i><b>5.1</b> Data Formats</a></li>
<li class="chapter" data-level="5.2" data-path="pivot.html"><a href="pivot.html#pivoting-concepts"><i class="fa fa-check"></i><b>5.2</b> Pivoting Concepts</a></li>
<li class="chapter" data-level="5.3" data-path="pivot.html"><a href="pivot.html#pivoting-in-r"><i class="fa fa-check"></i><b>5.3</b> Pivoting in R</a></li>
<li class="chapter" data-level="5.4" data-path="pivot.html"><a href="pivot.html#pivoting-examples"><i class="fa fa-check"></i><b>5.4</b> Examples with Context</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="wrangle-columns.html"><a href="wrangle-columns.html"><i class="fa fa-check"></i><b>6</b> Wrangle Columns</a>
<ul>
<li class="chapter" data-level="6.1" data-path="wrangle-columns.html"><a href="wrangle-columns.html#dplyr-verbs"><i class="fa fa-check"></i><b>6.1</b> <code>dplyr</code> verbs</a></li>
<li class="chapter" data-level="6.2" data-path="wrangle-columns.html"><a href="wrangle-columns.html#pipe"><i class="fa fa-check"></i><b>6.2</b> Pipe</a></li>
<li class="chapter" data-level="6.3" data-path="wrangle-columns.html"><a href="wrangle-columns.html#selecting-variables"><i class="fa fa-check"></i><b>6.3</b> Selecting Variables</a></li>
<li class="chapter" data-level="6.4" data-path="wrangle-columns.html"><a href="wrangle-columns.html#moving-variables"><i class="fa fa-check"></i><b>6.4</b> Moving Variables</a></li>
<li class="chapter" data-level="6.5" data-path="wrangle-columns.html"><a href="wrangle-columns.html#renaming-variables"><i class="fa fa-check"></i><b>6.5</b> Renaming Variables</a></li>
<li class="chapter" data-level="6.6" data-path="wrangle-columns.html"><a href="wrangle-columns.html#adding-variables"><i class="fa fa-check"></i><b>6.6</b> Adding Variables</a></li>
<li class="chapter" data-level="6.7" data-path="wrangle-columns.html"><a href="wrangle-columns.html#columns-examples"><i class="fa fa-check"></i><b>6.7</b> Examples in Context</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="wrangle-rows.html"><a href="wrangle-rows.html"><i class="fa fa-check"></i><b>7</b> Wrangle Rows</a>
<ul>
<li class="chapter" data-level="7.1" data-path="wrangle-rows.html"><a href="wrangle-rows.html#filtering-rows"><i class="fa fa-check"></i><b>7.1</b> Filtering Rows</a></li>
<li class="chapter" data-level="7.2" data-path="wrangle-rows.html"><a href="wrangle-rows.html#arranging-rows"><i class="fa fa-check"></i><b>7.2</b> Arranging Rows</a></li>
<li class="chapter" data-level="7.3" data-path="wrangle-rows.html"><a href="wrangle-rows.html#appending-rows"><i class="fa fa-check"></i><b>7.3</b> Appending Rows</a></li>
<li class="chapter" data-level="7.4" data-path="wrangle-rows.html"><a href="wrangle-rows.html#examples-in-context"><i class="fa fa-check"></i><b>7.4</b> Examples in Context</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="groupings.html"><a href="groupings.html"><i class="fa fa-check"></i><b>8</b> Groupings</a>
<ul>
<li class="chapter" data-level="8.1" data-path="groupings.html"><a href="groupings.html#declaring-groupings"><i class="fa fa-check"></i><b>8.1</b> Declaring Groupings</a></li>
<li class="chapter" data-level="8.2" data-path="groupings.html"><a href="groupings.html#summarizing-by-groups"><i class="fa fa-check"></i><b>8.2</b> Summarizing by Groups</a></li>
<li class="chapter" data-level="8.3" data-path="groupings.html"><a href="groupings.html#wrangling-by-group"><i class="fa fa-check"></i><b>8.3</b> Wrangling by Group</a></li>
<li class="chapter" data-level="8.4" data-path="groupings.html"><a href="groupings.html#ungrouping"><i class="fa fa-check"></i><b>8.4</b> Ungrouping</a></li>
<li class="chapter" data-level="8.5" data-path="groupings.html"><a href="groupings.html#examples-in-context-1"><i class="fa fa-check"></i><b>8.5</b> Examples in Context</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="dates-and-times.html"><a href="dates-and-times.html"><i class="fa fa-check"></i><b>9</b> Dates and Times</a>
<ul>
<li class="chapter" data-level="9.1" data-path="dates-and-times.html"><a href="dates-and-times.html#obtaining-dates-data"><i class="fa fa-check"></i><b>9.1</b> Obtaining Dates Data</a></li>
<li class="chapter" data-level="9.2" data-path="dates-and-times.html"><a href="dates-and-times.html#extracting-date-components"><i class="fa fa-check"></i><b>9.2</b> Extracting Date Components</a></li>
<li class="chapter" data-level="9.3" data-path="dates-and-times.html"><a href="dates-and-times.html#calculations-with-dates"><i class="fa fa-check"></i><b>9.3</b> Calculations with Dates</a></li>
<li class="chapter" data-level="9.4" data-path="dates-and-times.html"><a href="dates-and-times.html#obtaining-time-data"><i class="fa fa-check"></i><b>9.4</b> Obtaining Time Data</a></li>
<li class="chapter" data-level="9.5" data-path="dates-and-times.html"><a href="dates-and-times.html#extracting-time-components"><i class="fa fa-check"></i><b>9.5</b> Extracting Time Components</a></li>
<li class="chapter" data-level="9.6" data-path="dates-and-times.html"><a href="dates-and-times.html#calculations-with-date-times"><i class="fa fa-check"></i><b>9.6</b> Calculations with Date-Times</a></li>
<li class="chapter" data-level="9.7" data-path="dates-and-times.html"><a href="dates-and-times.html#examples-in-context-2"><i class="fa fa-check"></i><b>9.7</b> Examples in Context</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="factors.html"><a href="factors.html"><i class="fa fa-check"></i><b>10</b> Factors</a>
<ul>
<li class="chapter" data-level="10.1" data-path="factors.html"><a href="factors.html#creating-factors"><i class="fa fa-check"></i><b>10.1</b> Creating Factors</a></li>
<li class="chapter" data-level="10.2" data-path="factors.html"><a href="factors.html#changing-factor-order"><i class="fa fa-check"></i><b>10.2</b> Changing Factor Order</a></li>
<li class="chapter" data-level="10.3" data-path="factors.html"><a href="factors.html#changing-factor-levels"><i class="fa fa-check"></i><b>10.3</b> Changing Factor Levels</a></li>
<li class="chapter" data-level="10.4" data-path="factors.html"><a href="factors.html#examples-in-context-3"><i class="fa fa-check"></i><b>10.4</b> Examples in Context</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="strings.html"><a href="strings.html"><i class="fa fa-check"></i><b>11</b> Strings</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/88x31.png" /></a></li>
<li><a href="https://bookdown.org" target="_blank">Built with Bookdown + RStudio</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Readings for MTH250 - Data Wrangling</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="wrangle-rows" class="section level1" number="7">
<h1><span class="header-section-number">Module 7</span> Wrangle Rows</h1>
<p>The previous module demonstrated methods for wrangling columns (i.e., variables) in a data frame. In this module, methods to wrangle rows, which with tidy data are observations, in a data frame are introduced. The primary method of interest here is selecting a smaller subset of rows (i.e., filtering) for further analysis.</p>
<div class="tip">
<p>Manipulating <strong>rows</strong> means you are manipulating <strong>observations</strong>.</p>
</div>
<p>Again the descriptive examples below will use the <code>bears</code> data frame from Section <a href="read-external-data-files.html#csv-files">3.3.1</a>.</p>
<div class="sourceCode" id="cb222"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb222-1"><a href="wrangle-rows.html#cb222-1" aria-hidden="true" tabindex="-1"></a>bears <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">file.path</span>(<span class="st">&quot;data&quot;</span>,<span class="st">&quot;Bears.csv&quot;</span>))</span>
<span id="cb222-2"><a href="wrangle-rows.html#cb222-2" aria-hidden="true" tabindex="-1"></a>bears</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   # A tibble: 8 x 3
#R&gt;     length.cm weight.kg loc     
#R&gt;         &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;   
#R&gt;   1      139        110 Bayfield
#R&gt;   2      120.        60 Bayfield
#R&gt;   3      149         85 Bayfield
#R&gt;   4      141        100 Ashland 
#R&gt;   5      141         95 Ashland 
#R&gt;   6      150         85 Douglas 
#R&gt;   7      130.       105 Douglas 
#R&gt;   8      150        110 Douglas</code></pre>
<p>The code here will also use the pipe operator, <code>%&gt;%</code>, to again help you become more comfortable with its use.</p>
<p> </p>
<div id="filtering-rows" class="section level2" number="7.1">
<h2><span class="header-section-number">7.1</span> Filtering Rows</h2>
<p>Observations or rows can be selected from a data frame with <code>filter()</code>. The directive arguments to <code>filter()</code> are conditional expressions describing which observations from the data frame to maintain. Common operators used in these conditional expressions are in Table <a href="wrangle-rows.html#tab:filterComps">7.1</a>.</p>
<p> </p>
<table class=" lightable-classic lightable-hover" style="font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:filterComps">Table 7.1: </span>Comparison operators used in <code>filterD()</code> and their results. Note that <code>var</code> generically represents a variable in the original data frame and <code>value</code> is a generic value or level. Both <code>var</code> and <code>val</code> would be replaced with specific items (see examples in main text).
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;">
Comparison Operator
</th>
<th style="text-align:left;font-weight: bold;">
Rows Returned from Original Data Frame
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;width: 2.5in; ">
<code>var==value</code>
</td>
<td style="text-align:left;">
All rows where <code>var</code> <strong>IS equal</strong> to <code>value</code>
</td>
</tr>
<tr>
<td style="text-align:left;width: 2.5in; ">
<code>var!=value</code>
</td>
<td style="text-align:left;">
All rows where <code>var</code> <strong>is NOT equal</strong> to <code>value</code>
</td>
</tr>
<tr>
<td style="text-align:left;width: 2.5in; ">
<code>var %in% c(value1,value2)</code>
</td>
<td style="text-align:left;">
All rows where <code>var</code> <strong>IS IN</strong> (or one of the) vector of <code>value</code>s<a href="#fn19" class="footnote-ref" id="fnref19"><sup>19</sup></a>
</td>
</tr>
<tr>
<td style="text-align:left;width: 2.5in; ">
<code>var</code>&gt;<code>value</code>
</td>
<td style="text-align:left;">
All rows where <code>var</code> is <strong>greater than</strong> <code>value</code><a href="#fn20" class="footnote-ref" id="fnref20"><sup>20</sup></a>
</td>
</tr>
<tr>
<td style="text-align:left;width: 2.5in; ">
<code>var</code>&gt;=<code>value</code>
</td>
<td style="text-align:left;">
All rows where <code>var</code> is <strong>greater than or equal to</strong> <code>value</code><a href="#fn21" class="footnote-ref" id="fnref21"><sup>21</sup></a>
</td>
</tr>
<tr>
<td style="text-align:left;width: 2.5in; ">
<code>var</code>&lt;<code>value</code>
</td>
<td style="text-align:left;">
All rows where <code>var</code> is <strong>less than</strong> <code>value</code><a href="#fn22" class="footnote-ref" id="fnref22"><sup>22</sup></a>
</td>
</tr>
<tr>
<td style="text-align:left;width: 2.5in; ">
<code>var</code>&lt;=<code>value</code>
</td>
<td style="text-align:left;">
All rows where <code>var</code> is <strong>less than or equal to</strong> <code>value</code><a href="#fn23" class="footnote-ref" id="fnref23"><sup>23</sup></a>
</td>
</tr>
<tr>
<td style="text-align:left;width: 2.5in; ">
condition1,condition2
</td>
<td style="text-align:left;">
All rows where <strong>BOTH</strong> conditions are true
</td>
</tr>
<tr>
<td style="text-align:left;width: 2.5in; ">
condition1 | condition2
</td>
<td style="text-align:left;">
All rows where <strong>ONE or BOTH</strong> conditions are true<a href="#fn24" class="footnote-ref" id="fnref24"><sup>24</sup></a>
</td>
</tr>
</tbody>
</table>
<p> </p>
<p>The following are examples of new data frames created from <code>bears</code>. The name of the new data frame (i.e., object left of the assignment operator) is <code>tmp</code> (for temporary) in each example below because there is no plan to use these data frames further.</p>
<ul>
<li>Only observations from <em>Bayfield</em> county.</li>
</ul>
<div class="sourceCode" id="cb224"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb224-1"><a href="wrangle-rows.html#cb224-1" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> bears <span class="sc">%&gt;%</span> <span class="fu">filter</span>(loc<span class="sc">==</span><span class="st">&quot;Bayfield&quot;</span>)</span>
<span id="cb224-2"><a href="wrangle-rows.html#cb224-2" aria-hidden="true" tabindex="-1"></a>tmp</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   # A tibble: 3 x 3
#R&gt;     length.cm weight.kg loc     
#R&gt;         &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;   
#R&gt;   1      139        110 Bayfield
#R&gt;   2      120.        60 Bayfield
#R&gt;   3      149         85 Bayfield</code></pre>
<ul>
<li>Observations from both <em>Bayfield</em> and <em>Ashland</em> counties.</li>
</ul>
<div class="sourceCode" id="cb226"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb226-1"><a href="wrangle-rows.html#cb226-1" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> bears <span class="sc">%&gt;%</span> <span class="fu">filter</span>(loc <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Bayfield&quot;</span>,<span class="st">&quot;Ashland&quot;</span>))</span>
<span id="cb226-2"><a href="wrangle-rows.html#cb226-2" aria-hidden="true" tabindex="-1"></a>tmp</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   # A tibble: 5 x 3
#R&gt;     length.cm weight.kg loc     
#R&gt;         &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;   
#R&gt;   1      139        110 Bayfield
#R&gt;   2      120.        60 Bayfield
#R&gt;   3      149         85 Bayfield
#R&gt;   4      141        100 Ashland 
#R&gt;   5      141         95 Ashland</code></pre>
<ul>
<li>Observations <em>NOT</em> from <em>Bayfield</em> county.</li>
</ul>
<div class="sourceCode" id="cb228"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb228-1"><a href="wrangle-rows.html#cb228-1" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> bears <span class="sc">%&gt;%</span> <span class="fu">filter</span>(loc <span class="sc">!=</span> <span class="st">&quot;Bayfield&quot;</span>)</span>
<span id="cb228-2"><a href="wrangle-rows.html#cb228-2" aria-hidden="true" tabindex="-1"></a>tmp</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   # A tibble: 5 x 3
#R&gt;     length.cm weight.kg loc    
#R&gt;         &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;  
#R&gt;   1      141        100 Ashland
#R&gt;   2      141         95 Ashland
#R&gt;   3      150         85 Douglas
#R&gt;   4      130.       105 Douglas
#R&gt;   5      150        110 Douglas</code></pre>
<ul>
<li>Observations with a weight greater than 100 kg.</li>
</ul>
<div class="sourceCode" id="cb230"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb230-1"><a href="wrangle-rows.html#cb230-1" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> bears <span class="sc">%&gt;%</span> <span class="fu">filter</span>(weight.kg<span class="sc">&gt;</span><span class="dv">100</span>)</span>
<span id="cb230-2"><a href="wrangle-rows.html#cb230-2" aria-hidden="true" tabindex="-1"></a>tmp</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   # A tibble: 3 x 3
#R&gt;     length.cm weight.kg loc     
#R&gt;         &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;   
#R&gt;   1      139        110 Bayfield
#R&gt;   2      130.       105 Douglas 
#R&gt;   3      150        110 Douglas</code></pre>
<ul>
<li>Observations from <em>Douglas</em> County that weighed at least 110 kg.</li>
</ul>
<div class="sourceCode" id="cb232"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb232-1"><a href="wrangle-rows.html#cb232-1" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> bears <span class="sc">%&gt;%</span> <span class="fu">filter</span>(loc<span class="sc">==</span><span class="st">&quot;Douglas&quot;</span>,weight.kg<span class="sc">&gt;=</span><span class="dv">110</span>)</span>
<span id="cb232-2"><a href="wrangle-rows.html#cb232-2" aria-hidden="true" tabindex="-1"></a>tmp</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   # A tibble: 1 x 3
#R&gt;     length.cm weight.kg loc    
#R&gt;         &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;  
#R&gt;   1       150       110 Douglas</code></pre>
<p>The last example above illustrates that multiple conditional expressions in <code>filter()</code> are combined as an “and” operator such that both conditions must be true.</p>
<p> </p>
<p>It is good practice to examine a data frame after filtering to be sure that the new data frame contains the observations that you want. The data frames above are so small that you can simply and easily examine the entire data frame. However, this will not be the case with more realistic larger data frames. Thus, I suggest the following methods for “checking your filtering.”</p>
<ul>
<li>Simply display the data frame or the structure of the data frame to identify any obvious issues. For example, the code below should return all bears from Douglas County with a weight greater than 150 kg. Showing the data frame or the structure of the data frame both show that this data frame contains no data.</li>
</ul>
<div class="sourceCode" id="cb234"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb234-1"><a href="wrangle-rows.html#cb234-1" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> bears <span class="sc">%&gt;%</span> <span class="fu">filter</span>(loc<span class="sc">==</span><span class="st">&quot;Douglas&quot;</span>,weight.kg<span class="sc">&gt;=</span><span class="dv">150</span>)</span>
<span id="cb234-2"><a href="wrangle-rows.html#cb234-2" aria-hidden="true" tabindex="-1"></a>tmp</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   # A tibble: 0 x 3
#R&gt;   # ... with 3 variables: length.cm &lt;dbl&gt;, weight.kg &lt;dbl&gt;, loc &lt;chr&gt;</code></pre>
<div class="sourceCode" id="cb236"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb236-1"><a href="wrangle-rows.html#cb236-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(tmp,<span class="at">give.attr=</span><span class="cn">FALSE</span>)</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   spec_tbl_df [0 x 3] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
#R&gt;    $ length.cm: num(0) 
#R&gt;    $ weight.kg: num(0) 
#R&gt;    $ loc      : chr(0)</code></pre>
<ul>
<li>If you filter with respect to a categorical variable then use <code>unique()</code> with that categorical variable to examine its levels. For example, the filter below is expected to return observations for just Ashland and Bayfield counties. The use of <code>unique()</code> supports that this is what is returned.</li>
</ul>
<div class="sourceCode" id="cb238"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb238-1"><a href="wrangle-rows.html#cb238-1" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> bears <span class="sc">%&gt;%</span> <span class="fu">filter</span>(loc <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Bayfield&quot;</span>,<span class="st">&quot;Ashland&quot;</span>))</span>
<span id="cb238-2"><a href="wrangle-rows.html#cb238-2" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(tmp<span class="sc">$</span>loc)</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   [1] &quot;Bayfield&quot; &quot;Ashland&quot;</code></pre>
<ul>
<li>If you filter with respect to a quantitative variable then use <code>summary()</code> with that quantitative variable to examine its summary statistics. For example the fitler below is expected to return observations for lengths between 130 and 145 cm. The minimum and maximum values in the <code>summary()</code> results support that is what is returned.</li>
</ul>
<div class="sourceCode" id="cb240"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb240-1"><a href="wrangle-rows.html#cb240-1" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> bears <span class="sc">%&gt;%</span> <span class="fu">filter</span>(length.cm<span class="sc">&gt;</span><span class="dv">130</span>,length.cm<span class="sc">&lt;</span><span class="dv">145</span>)</span>
<span id="cb240-2"><a href="wrangle-rows.html#cb240-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(tmp<span class="sc">$</span>length.cm)</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;      Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
#R&gt;     139.0   140.0   141.0   140.3   141.0   141.0</code></pre>
<div class="tip">
<p>Examine the new data frame after filtering to ensure that it contains the observations you intended.</p>
</div>
<p> </p>
</div>
<div id="arranging-rows" class="section level2" number="7.2">
<h2><span class="header-section-number">7.2</span> Arranging Rows</h2>
<p>The <code>arrange()</code> function is used to sort rows based on values in one or more variables.<a href="#fn25" class="footnote-ref" id="fnref25"><sup>25</sup></a> The default is ascending order. To sort in descending order then wrap the variable name in <code>desc()</code>. If more than one variable is given then the rows are first sorted based on the first variable and then ties in the first variable are sorted based on the second variable. Examples of sorting are shown below.</p>
<ul>
<li>Alphabetically sort bears by location name.</li>
</ul>
<div class="sourceCode" id="cb242"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb242-1"><a href="wrangle-rows.html#cb242-1" aria-hidden="true" tabindex="-1"></a>bears <span class="ot">&lt;-</span> bears <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(loc)</span>
<span id="cb242-2"><a href="wrangle-rows.html#cb242-2" aria-hidden="true" tabindex="-1"></a>bears</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   # A tibble: 8 x 3
#R&gt;     length.cm weight.kg loc     
#R&gt;         &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;   
#R&gt;   1      141        100 Ashland 
#R&gt;   2      141         95 Ashland 
#R&gt;   3      139        110 Bayfield
#R&gt;   4      120.        60 Bayfield
#R&gt;   5      149         85 Bayfield
#R&gt;   6      150         85 Douglas 
#R&gt;   7      130.       105 Douglas 
#R&gt;   8      150        110 Douglas</code></pre>
<ul>
<li>Sort bears from heaviest to lightest.</li>
</ul>
<div class="sourceCode" id="cb244"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb244-1"><a href="wrangle-rows.html#cb244-1" aria-hidden="true" tabindex="-1"></a>bears <span class="ot">&lt;-</span> bears <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(weight.kg))</span>
<span id="cb244-2"><a href="wrangle-rows.html#cb244-2" aria-hidden="true" tabindex="-1"></a>bears</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   # A tibble: 8 x 3
#R&gt;     length.cm weight.kg loc     
#R&gt;         &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;   
#R&gt;   1      139        110 Bayfield
#R&gt;   2      150        110 Douglas 
#R&gt;   3      130.       105 Douglas 
#R&gt;   4      141        100 Ashland 
#R&gt;   5      141         95 Ashland 
#R&gt;   6      149         85 Bayfield
#R&gt;   7      150         85 Douglas 
#R&gt;   8      120.        60 Bayfield</code></pre>
<ul>
<li>Sort bears from heaviest to lightest <em>within</em> each location.</li>
</ul>
<div class="sourceCode" id="cb246"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb246-1"><a href="wrangle-rows.html#cb246-1" aria-hidden="true" tabindex="-1"></a>bears <span class="ot">&lt;-</span> bears <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(loc,<span class="fu">desc</span>(weight.kg))</span>
<span id="cb246-2"><a href="wrangle-rows.html#cb246-2" aria-hidden="true" tabindex="-1"></a>bears</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   # A tibble: 8 x 3
#R&gt;     length.cm weight.kg loc     
#R&gt;         &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;   
#R&gt;   1      141        100 Ashland 
#R&gt;   2      141         95 Ashland 
#R&gt;   3      139        110 Bayfield
#R&gt;   4      149         85 Bayfield
#R&gt;   5      120.        60 Bayfield
#R&gt;   6      150        110 Douglas 
#R&gt;   7      130.       105 Douglas 
#R&gt;   8      150         85 Douglas</code></pre>
<ul>
<li>sort bears by size, first by length and then by weight.</li>
</ul>
<div class="sourceCode" id="cb248"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb248-1"><a href="wrangle-rows.html#cb248-1" aria-hidden="true" tabindex="-1"></a>bears <span class="ot">&lt;-</span> bears <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(length.cm,weight.kg)</span>
<span id="cb248-2"><a href="wrangle-rows.html#cb248-2" aria-hidden="true" tabindex="-1"></a>bears</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   # A tibble: 8 x 3
#R&gt;     length.cm weight.kg loc     
#R&gt;         &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;   
#R&gt;   1      120.        60 Bayfield
#R&gt;   2      130.       105 Douglas 
#R&gt;   3      139        110 Bayfield
#R&gt;   4      141         95 Ashland 
#R&gt;   5      141        100 Ashland 
#R&gt;   6      149         85 Bayfield
#R&gt;   7      150         85 Douglas 
#R&gt;   8      150        110 Douglas</code></pre>
<p> </p>
</div>
<div id="appending-rows" class="section level2" number="7.3">
<h2><span class="header-section-number">7.3</span> Appending Rows</h2>
<p>Two data frames can be combined with <code>bind_rows()</code> <strong>IF</strong> they have the same column names and classes. For example suppose that two other data frames exist – <code>bears2</code> has more information about bears and <code>bobcats</code> has similar information about bobcats.</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb250-1"><a href="wrangle-rows.html#cb250-1" aria-hidden="true" tabindex="-1"></a>bears2</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;     length.cm weight.kg  loc
#R&gt;   1       135       100 Iron
#R&gt;   2       142       115 Iron
#R&gt;   3       143       110 Iron</code></pre>
<div class="sourceCode" id="cb252"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb252-1"><a href="wrangle-rows.html#cb252-1" aria-hidden="true" tabindex="-1"></a>bobcats</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;     length.cm weight.kg      loc
#R&gt;   1        75       6.2  Douglas
#R&gt;   2        82       8.1  Douglas
#R&gt;   3        71       7.4 Bayfield
#R&gt;   4        79       7.6  Douglas</code></pre>
<p>The code below appends the <code>bears2</code> data frame to the bottom of the <code>bears</code> data frame and then, for demonstration purposes, orders the bears by size.</p>
<div class="sourceCode" id="cb254"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb254-1"><a href="wrangle-rows.html#cb254-1" aria-hidden="true" tabindex="-1"></a>newbears <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(bears,bears2) <span class="sc">%&gt;%</span></span>
<span id="cb254-2"><a href="wrangle-rows.html#cb254-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(length.cm,weight.kg)</span>
<span id="cb254-3"><a href="wrangle-rows.html#cb254-3" aria-hidden="true" tabindex="-1"></a>newbears</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   # A tibble: 11 x 3
#R&gt;      length.cm weight.kg loc     
#R&gt;          &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;   
#R&gt;    1      120.        60 Bayfield
#R&gt;    2      130.       105 Douglas 
#R&gt;    3      135        100 Iron    
#R&gt;    4      139        110 Bayfield
#R&gt;    5      141         95 Ashland 
#R&gt;    6      141        100 Ashland 
#R&gt;    7      142        115 Iron    
#R&gt;    8      143        110 Iron    
#R&gt;    9      149         85 Bayfield
#R&gt;   10      150         85 Douglas 
#R&gt;   11      150        110 Douglas</code></pre>
<p>The same could be done with the <code>bears</code> and <code>bobcats</code> data frames but there will be no way to then tell which observations are for bears and which are for bobcats. This deficiency can be overcome by giving names to the data frames within <code>bind_rows()</code> and giving a variable name to <code>.id=</code> for the new variable that will identify the groups. For example,</p>
<div class="sourceCode" id="cb256"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb256-1"><a href="wrangle-rows.html#cb256-1" aria-hidden="true" tabindex="-1"></a>animals <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(<span class="st">&quot;bear&quot;</span><span class="ot">=</span>bears,<span class="st">&quot;bobcat&quot;</span><span class="ot">=</span>bobcats,<span class="at">.id=</span><span class="st">&quot;animal&quot;</span>)</span>
<span id="cb256-2"><a href="wrangle-rows.html#cb256-2" aria-hidden="true" tabindex="-1"></a>animals</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   # A tibble: 12 x 4
#R&gt;      animal length.cm weight.kg loc     
#R&gt;      &lt;chr&gt;      &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;   
#R&gt;    1 bear        120.      60   Bayfield
#R&gt;    2 bear        130.     105   Douglas 
#R&gt;    3 bear        139      110   Bayfield
#R&gt;    4 bear        141       95   Ashland 
#R&gt;    5 bear        141      100   Ashland 
#R&gt;    6 bear        149       85   Bayfield
#R&gt;    7 bear        150       85   Douglas 
#R&gt;    8 bear        150      110   Douglas 
#R&gt;    9 bobcat       75        6.2 Douglas 
#R&gt;   10 bobcat       82        8.1 Douglas 
#R&gt;   11 bobcat       71        7.4 Bayfield
#R&gt;   12 bobcat       79        7.6 Douglas</code></pre>
<p>Note that more than two data frames can be combined with <code>bind_rows()</code>.</p>
<p> </p>
</div>
<div id="examples-in-context" class="section level2" number="7.4">
<h2><span class="header-section-number">7.4</span> Examples in Context</h2>
<div id="rows-nba" class="section level3" number="7.4.1">
<h3><span class="header-section-number">7.4.1</span> NBA Players</h3>
<p>In Section <a href="wrangle-columns.html#columns-nba">6.7.1</a> the <code>players2</code> data frame was created that showed the starting year, ending year, total years played, and whether the player was from the “modern” era or not for all NBA players.</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb258-1"><a href="wrangle-rows.html#cb258-1" aria-hidden="true" tabindex="-1"></a>players2</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   # A tibble: 4,393 x 5
#R&gt;      name                 start   end years_played modern
#R&gt;      &lt;chr&gt;                &lt;dbl&gt; &lt;dbl&gt;        &lt;dbl&gt; &lt;chr&gt; 
#R&gt;    1 Willis, Kevin         1984  2006           22 yes   
#R&gt;    2 Jones, Mark           1983  2004           21 yes   
#R&gt;    3 Carter, Vince         1998  2018           20 yes   
#R&gt;    4 Garnett, Kevin        1995  2015           20 yes   
#R&gt;    5 Nowitzki, Dirk        1998  2018           20 yes   
#R&gt;    6 Parish, Robert        1976  1996           20 yes   
#R&gt;    7 Abdul-Jabbar, Kareem  1969  1988           19 yes   
#R&gt;    8 Bryant, Kobe          1996  2015           19 yes   
#R&gt;    9 Cousy, Bob            1950  1969           19 no    
#R&gt;   10 Crawford, Jamal       2000  2018           18 yes   
#R&gt;   # ... with 4,383 more rows</code></pre>
<p>The graph shown in that same section was for all players with more than 18 years in the NBA. The data frame for that graph is constructed below.</p>
<div class="sourceCode" id="cb260"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb260-1"><a href="wrangle-rows.html#cb260-1" aria-hidden="true" tabindex="-1"></a>nba_gt18 <span class="ot">&lt;-</span> players2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(years_played<span class="sc">&gt;</span><span class="dv">18</span>)</span>
<span id="cb260-2"><a href="wrangle-rows.html#cb260-2" aria-hidden="true" tabindex="-1"></a>nba_gt18</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   # A tibble: 9 x 5
#R&gt;     name                 start   end years_played modern
#R&gt;     &lt;chr&gt;                &lt;dbl&gt; &lt;dbl&gt;        &lt;dbl&gt; &lt;chr&gt; 
#R&gt;   1 Willis, Kevin         1984  2006           22 yes   
#R&gt;   2 Jones, Mark           1983  2004           21 yes   
#R&gt;   3 Carter, Vince         1998  2018           20 yes   
#R&gt;   4 Garnett, Kevin        1995  2015           20 yes   
#R&gt;   5 Nowitzki, Dirk        1998  2018           20 yes   
#R&gt;   6 Parish, Robert        1976  1996           20 yes   
#R&gt;   7 Abdul-Jabbar, Kareem  1969  1988           19 yes   
#R&gt;   8 Bryant, Kobe          1996  2015           19 yes   
#R&gt;   9 Cousy, Bob            1950  1969           19 no</code></pre>
<p>It might be interesting to see who started in the NBA in the year of your college graduation (using mine below).</p>
<div class="sourceCode" id="cb262"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb262-1"><a href="wrangle-rows.html#cb262-1" aria-hidden="true" tabindex="-1"></a>nba_grad1 <span class="ot">&lt;-</span> players2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(start<span class="sc">==</span><span class="dv">1989</span>)</span>
<span id="cb262-2"><a href="wrangle-rows.html#cb262-2" aria-hidden="true" tabindex="-1"></a>nba_grad1</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   # A tibble: 81 x 5
#R&gt;      name               start   end years_played modern
#R&gt;      &lt;chr&gt;              &lt;dbl&gt; &lt;dbl&gt;        &lt;dbl&gt; &lt;chr&gt; 
#R&gt;    1 Robinson, Clifford  1989  2006           17 yes   
#R&gt;    2 Divac, Vlade        1989  2004           15 yes   
#R&gt;    3 Barros, Dana        1989  2003           14 yes   
#R&gt;    4 Rice, Glen          1989  2003           14 yes   
#R&gt;    5 Anderson, Nick      1989  2002           13 yes   
#R&gt;    6 Hardaway, Tim       1989  2002           13 yes   
#R&gt;    7 Kemp, Shawn         1989  2002           13 yes   
#R&gt;    8 Mason, Anthony      1989  2002           13 yes   
#R&gt;    9 McCloud, George     1989  2002           13 yes   
#R&gt;   10 Robinson, David     1989  2002           13 yes   
#R&gt;   # ... with 71 more rows</code></pre>
<p>Perhaps those that started in the year of your graduation and played for more than a decade.</p>
<div class="sourceCode" id="cb264"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb264-1"><a href="wrangle-rows.html#cb264-1" aria-hidden="true" tabindex="-1"></a>nba_grad2 <span class="ot">&lt;-</span> players2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(start<span class="sc">==</span><span class="dv">1989</span>,years_played<span class="sc">&gt;</span><span class="dv">10</span>)</span>
<span id="cb264-2"><a href="wrangle-rows.html#cb264-2" aria-hidden="true" tabindex="-1"></a>nba_grad2</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   # A tibble: 21 x 5
#R&gt;      name               start   end years_played modern
#R&gt;      &lt;chr&gt;              &lt;dbl&gt; &lt;dbl&gt;        &lt;dbl&gt; &lt;chr&gt; 
#R&gt;    1 Robinson, Clifford  1989  2006           17 yes   
#R&gt;    2 Divac, Vlade        1989  2004           15 yes   
#R&gt;    3 Barros, Dana        1989  2003           14 yes   
#R&gt;    4 Rice, Glen          1989  2003           14 yes   
#R&gt;    5 Anderson, Nick      1989  2002           13 yes   
#R&gt;    6 Hardaway, Tim       1989  2002           13 yes   
#R&gt;    7 Kemp, Shawn         1989  2002           13 yes   
#R&gt;    8 Mason, Anthony      1989  2002           13 yes   
#R&gt;    9 McCloud, George     1989  2002           13 yes   
#R&gt;   10 Robinson, David     1989  2002           13 yes   
#R&gt;   # ... with 11 more rows</code></pre>
<p>Perhaps those that were playing during the year of your graduation.</p>
<div class="sourceCode" id="cb266"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb266-1"><a href="wrangle-rows.html#cb266-1" aria-hidden="true" tabindex="-1"></a>nba_grad3 <span class="ot">&lt;-</span> players2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(start<span class="sc">&lt;=</span><span class="dv">1985</span>,end<span class="sc">&gt;=</span><span class="dv">1985</span>)</span>
<span id="cb266-2"><a href="wrangle-rows.html#cb266-2" aria-hidden="true" tabindex="-1"></a>nba_grad3</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   # A tibble: 353 x 5
#R&gt;      name                 start   end years_played modern
#R&gt;      &lt;chr&gt;                &lt;dbl&gt; &lt;dbl&gt;        &lt;dbl&gt; &lt;chr&gt; 
#R&gt;    1 Willis, Kevin         1984  2006           22 yes   
#R&gt;    2 Jones, Mark           1983  2004           21 yes   
#R&gt;    3 Parish, Robert        1976  1996           20 yes   
#R&gt;    4 Abdul-Jabbar, Kareem  1969  1988           19 yes   
#R&gt;    5 Edwards, James        1977  1995           18 yes   
#R&gt;    6 Jordan, Michael       1984  2002           18 yes   
#R&gt;    7 Long, John            1978  1996           18 yes   
#R&gt;    8 Mahorn, Rick          1980  1998           18 yes   
#R&gt;    9 Malone, Karl          1985  2003           18 yes   
#R&gt;   10 Malone, Moses         1976  1994           18 yes   
#R&gt;   # ... with 343 more rows</code></pre>
<p>Perhaps those whose name was “Jordan.”</p>
<div class="sourceCode" id="cb268"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb268-1"><a href="wrangle-rows.html#cb268-1" aria-hidden="true" tabindex="-1"></a>nba_jordans <span class="ot">&lt;-</span> players2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">&quot;Jordan&quot;</span>,name))</span>
<span id="cb268-2"><a href="wrangle-rows.html#cb268-2" aria-hidden="true" tabindex="-1"></a>nba_jordans</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   # A tibble: 20 x 5
#R&gt;      name             start   end years_played modern
#R&gt;      &lt;chr&gt;            &lt;dbl&gt; &lt;dbl&gt;        &lt;dbl&gt; &lt;chr&gt; 
#R&gt;    1 Jordan, Michael   1984  2002           18 yes   
#R&gt;    2 Farmar, Jordan    2006  2016           10 yes   
#R&gt;    3 Jordan, DeAndre   2008  2018           10 yes   
#R&gt;    4 Crawford, Jordan  2010  2017            7 yes   
#R&gt;    5 Hill, Jordan      2009  2016            7 yes   
#R&gt;    6 Jordan, Eddie     1977  1983            6 yes   
#R&gt;    7 Jordan, Reggie    1993  1999            6 yes   
#R&gt;    8 Jordan, Adonis    1993  1998            5 yes   
#R&gt;    9 Clarkson, Jordan  2014  2018            4 yes   
#R&gt;   10 Hamilton, Jordan  2011  2015            4 yes   
#R&gt;   11 Jordan, Jerome    2011  2014            3 yes   
#R&gt;   12 McRae, Jordan     2015  2018            3 yes   
#R&gt;   13 Mickey, Jordan    2015  2017            2 yes   
#R&gt;   14 Adams, Jordan     2014  2015            1 yes   
#R&gt;   15 Bell, Jordan      2017  2018            1 yes   
#R&gt;   16 Jordan, Thomas    1992  1992            0 yes   
#R&gt;   17 Jordan, Walter    1980  1980            0 yes   
#R&gt;   18 Loyd, Jordan      2018  2018            0 yes   
#R&gt;   19 Sibert, Jordan    2018  2018            0 yes   
#R&gt;   20 Williams, Jordan  2011  2011            0 yes</code></pre>
<p>Ahhh … need to be a little tricky to get all last names that are “Jordan.”</p>
<div class="sourceCode" id="cb270"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb270-1"><a href="wrangle-rows.html#cb270-1" aria-hidden="true" tabindex="-1"></a>nba_jordans2 <span class="ot">&lt;-</span> players2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">&quot;Jordan,&quot;</span>,name))</span>
<span id="cb270-2"><a href="wrangle-rows.html#cb270-2" aria-hidden="true" tabindex="-1"></a>nba_jordans2</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   # A tibble: 8 x 5
#R&gt;     name            start   end years_played modern
#R&gt;     &lt;chr&gt;           &lt;dbl&gt; &lt;dbl&gt;        &lt;dbl&gt; &lt;chr&gt; 
#R&gt;   1 Jordan, Michael  1984  2002           18 yes   
#R&gt;   2 Jordan, DeAndre  2008  2018           10 yes   
#R&gt;   3 Jordan, Eddie    1977  1983            6 yes   
#R&gt;   4 Jordan, Reggie   1993  1999            6 yes   
#R&gt;   5 Jordan, Adonis   1993  1998            5 yes   
#R&gt;   6 Jordan, Jerome   2011  2014            3 yes   
#R&gt;   7 Jordan, Thomas   1992  1992            0 yes   
#R&gt;   8 Jordan, Walter   1980  1980            0 yes</code></pre>
<p>Also tricky to get all first names that are “Jordan.”</p>
<div class="sourceCode" id="cb272"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb272-1"><a href="wrangle-rows.html#cb272-1" aria-hidden="true" tabindex="-1"></a>nba_jordans3 <span class="ot">&lt;-</span> players2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">&quot;, Jordan&quot;</span>,name))</span>
<span id="cb272-2"><a href="wrangle-rows.html#cb272-2" aria-hidden="true" tabindex="-1"></a>nba_jordans3</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   # A tibble: 12 x 5
#R&gt;      name             start   end years_played modern
#R&gt;      &lt;chr&gt;            &lt;dbl&gt; &lt;dbl&gt;        &lt;dbl&gt; &lt;chr&gt; 
#R&gt;    1 Farmar, Jordan    2006  2016           10 yes   
#R&gt;    2 Crawford, Jordan  2010  2017            7 yes   
#R&gt;    3 Hill, Jordan      2009  2016            7 yes   
#R&gt;    4 Clarkson, Jordan  2014  2018            4 yes   
#R&gt;    5 Hamilton, Jordan  2011  2015            4 yes   
#R&gt;    6 McRae, Jordan     2015  2018            3 yes   
#R&gt;    7 Mickey, Jordan    2015  2017            2 yes   
#R&gt;    8 Adams, Jordan     2014  2015            1 yes   
#R&gt;    9 Bell, Jordan      2017  2018            1 yes   
#R&gt;   10 Loyd, Jordan      2018  2018            0 yes   
#R&gt;   11 Sibert, Jordan    2018  2018            0 yes   
#R&gt;   12 Williams, Jordan  2011  2011            0 yes</code></pre>
<p>It is intersting that there were no players in the NBA with the first name “Jordan” before Michael Jordan (the greatest player of all time) retired.</p>
<p> </p>
</div>
<div id="rows-isle-royale" class="section level3" number="7.4.2">
<h3><span class="header-section-number">7.4.2</span> Wolves and Moose of Isle Royale</h3>
<p>In Section <a href="wrangle-columns.html#columns-isle-royale">6.7.2</a> the <code>irmw2</code> data frame was created for use in the graphing course.</p>
<div class="sourceCode" id="cb274"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb274-1"><a href="wrangle-rows.html#cb274-1" aria-hidden="true" tabindex="-1"></a>irmw2</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   # A tibble: 61 x 6
#R&gt;       year era   wolves moose winter_temp ice_bridges
#R&gt;      &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;      
#R&gt;    1  1959 early     20  538.        1.4  no         
#R&gt;    2  1960 early     22  564.        8.45 no         
#R&gt;    3  1961 early     22  572.        9.75 yes        
#R&gt;    4  1962 early     23  579.        2.15 yes        
#R&gt;    5  1963 early     20  596.       -0.35 yes        
#R&gt;    6  1964 early     26  620.       12.4  no         
#R&gt;    7  1965 early     28  634.        1.25 yes        
#R&gt;    8  1966 early     26  661.        1.7  yes        
#R&gt;    9  1967 early     22  766.        2.75 yes        
#R&gt;   10  1968 early     22  848.        5.85 yes        
#R&gt;   # ... with 51 more rows</code></pre>
<p>One of the things we did in that class is focus on the “early” years of the wolf-moose time series. Such a data frame is create below.</p>
<div class="sourceCode" id="cb276"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb276-1"><a href="wrangle-rows.html#cb276-1" aria-hidden="true" tabindex="-1"></a>irmw_early <span class="ot">&lt;-</span> irmw2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(era<span class="sc">==</span><span class="st">&quot;early&quot;</span>)</span></code></pre></div>
<p>Other things that we could do with these data are …</p>
<ul>
<li>Find years where the moose population was more than 1500 animals.</li>
</ul>
<div class="sourceCode" id="cb277"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb277-1"><a href="wrangle-rows.html#cb277-1" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> irmw2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(moose<span class="sc">&gt;</span><span class="dv">1500</span>)</span>
<span id="cb277-2"><a href="wrangle-rows.html#cb277-2" aria-hidden="true" tabindex="-1"></a>tmp</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   # A tibble: 7 x 6
#R&gt;      year era    wolves moose winter_temp ice_bridges
#R&gt;     &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;      
#R&gt;   1  1992 middle     12 1697.        15.2 no         
#R&gt;   2  1993 middle     13 1784.         9.1 no         
#R&gt;   3  1994 middle     17 2017.        -0.4 yes        
#R&gt;   4  1995 middle     16 2117.         9.5 no         
#R&gt;   5  1996 middle     22 2398.         2.8 yes        
#R&gt;   6  2017 recent      2 1600         15.4 no         
#R&gt;   7  2019 recent     15 2060          3.5 yes</code></pre>
<ul>
<li>Find years where the wolf population was less than 10 animals.</li>
</ul>
<div class="sourceCode" id="cb279"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb279-1"><a href="wrangle-rows.html#cb279-1" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> irmw2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(wolves<span class="sc">&lt;</span><span class="dv">10</span>)</span>
<span id="cb279-2"><a href="wrangle-rows.html#cb279-2" aria-hidden="true" tabindex="-1"></a>tmp</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   # A tibble: 7 x 6
#R&gt;      year era    wolves moose winter_temp ice_bridges
#R&gt;     &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;      
#R&gt;   1  2012 recent      9   750       17.2  no         
#R&gt;   2  2013 recent      8   975        8.95 no         
#R&gt;   3  2014 recent      9  1050       -1.05 yes        
#R&gt;   4  2015 recent      3  1250        3.85 yes        
#R&gt;   5  2016 recent      2  1300       12.0  no         
#R&gt;   6  2017 recent      2  1600       15.4  no         
#R&gt;   7  2018 recent      2  1475        6.05 yes</code></pre>
<ul>
<li>Find years where the wolf population was less than 10 animals and the moose population was greater than 1500 animals.</li>
</ul>
<div class="sourceCode" id="cb281"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb281-1"><a href="wrangle-rows.html#cb281-1" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> irmw2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(wolves<span class="sc">&lt;</span><span class="dv">10</span>,moose<span class="sc">&gt;</span><span class="dv">1500</span>)</span>
<span id="cb281-2"><a href="wrangle-rows.html#cb281-2" aria-hidden="true" tabindex="-1"></a>tmp</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   # A tibble: 1 x 6
#R&gt;      year era    wolves moose winter_temp ice_bridges
#R&gt;     &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;      
#R&gt;   1  2017 recent      2  1600        15.4 no</code></pre>
<ul>
<li>Find years where ice bridges formed.</li>
</ul>
<div class="sourceCode" id="cb283"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb283-1"><a href="wrangle-rows.html#cb283-1" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> irmw2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(ice_bridges<span class="sc">==</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb283-2"><a href="wrangle-rows.html#cb283-2" aria-hidden="true" tabindex="-1"></a>tmp</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   # A tibble: 26 x 6
#R&gt;       year era   wolves moose winter_temp ice_bridges
#R&gt;      &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;      
#R&gt;    1  1961 early     22  572.        9.75 yes        
#R&gt;    2  1962 early     23  579.        2.15 yes        
#R&gt;    3  1963 early     20  596.       -0.35 yes        
#R&gt;    4  1965 early     28  634.        1.25 yes        
#R&gt;    5  1966 early     26  661.        1.7  yes        
#R&gt;    6  1967 early     22  766.        2.75 yes        
#R&gt;    7  1968 early     22  848.        5.85 yes        
#R&gt;    8  1969 early     17 1041.        7.8  yes        
#R&gt;    9  1970 early     18 1045.        3.35 yes        
#R&gt;   10  1971 early     20 1183.        3.2  yes        
#R&gt;   # ... with 16 more rows</code></pre>
<ul>
<li>Find years in the 1970s decade.</li>
</ul>
<div class="sourceCode" id="cb285"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb285-1"><a href="wrangle-rows.html#cb285-1" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> irmw2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(year<span class="sc">&gt;=</span><span class="dv">1970</span>,year<span class="sc">&lt;</span><span class="dv">1980</span>)</span>
<span id="cb285-2"><a href="wrangle-rows.html#cb285-2" aria-hidden="true" tabindex="-1"></a>tmp</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   # A tibble: 10 x 6
#R&gt;       year era    wolves moose winter_temp ice_bridges
#R&gt;      &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;      
#R&gt;    1  1970 early      18 1045.        3.35 yes        
#R&gt;    2  1971 early      20 1183.        3.2  yes        
#R&gt;    3  1972 early      23 1243.       -0.05 yes        
#R&gt;    4  1973 early      24 1215.       10.8  no         
#R&gt;    5  1974 early      31 1203.        5.65 yes        
#R&gt;    6  1975 middle     41 1139.        9.05 no         
#R&gt;    7  1976 middle     44 1070.       10.4  no         
#R&gt;    8  1977 middle     34  949.        4.7  yes        
#R&gt;    9  1978 middle     40  845.        3.25 no         
#R&gt;   10  1979 middle     43  857.       -1.15 yes</code></pre>

</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="19">
<li id="fn19"><p><code>value</code> should be a character, factor, or integer.<a href="wrangle-rows.html#fnref19" class="footnote-back">↩︎</a></p></li>
<li id="fn20"><p><code>value</code> must be numeric.<a href="wrangle-rows.html#fnref20" class="footnote-back">↩︎</a></p></li>
<li id="fn21"><p><code>value</code> must be numeric.<a href="wrangle-rows.html#fnref21" class="footnote-back">↩︎</a></p></li>
<li id="fn22"><p><code>value</code> must be numeric.<a href="wrangle-rows.html#fnref22" class="footnote-back">↩︎</a></p></li>
<li id="fn23"><p><code>value</code> must be numeric.<a href="wrangle-rows.html#fnref23" class="footnote-back">↩︎</a></p></li>
<li id="fn24"><p>Note that this “or” operator is a “vertical line”” which is typed with the shift-backslash key.<a href="wrangle-rows.html#fnref24" class="footnote-back">↩︎</a></p></li>
<li id="fn25"><p>Some examples of <code>arrange()</code> are in Section <a href="wrangle-columns.html#columns-examples">6.7</a>.<a href="wrangle-rows.html#fnref25" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="wrangle-columns.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="groupings.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"search": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
