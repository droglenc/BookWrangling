<!DOCTYPE html>
<html lang="en" xml:lang="en">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Module 2 Data Structures | Readings for MTH250 - Data Wrangling</title>
  <meta name="description" content="This book contains the readings for MTH250W at Northland College." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Module 2 Data Structures | Readings for MTH250 - Data Wrangling" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://derekogle.com/BookWrangling/" />
  
  <meta property="og:description" content="This book contains the readings for MTH250W at Northland College." />
  <meta name="github-repo" content="droglenc/BookWrangling" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Module 2 Data Structures | Readings for MTH250 - Data Wrangling" />
  
  <meta name="twitter:description" content="This book contains the readings for MTH250W at Northland College." />
  

<meta name="author" content="Derek H. Ogle" />


<meta name="date" content="2021-08-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="preparation.html"/>
<link rel="next" href="read-external-data-files.html"/>
<script src="libs/header-attrs-2.9/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.4.0/str_view.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Readings for Data Wrangling in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="preparation.html"><a href="preparation.html"><i class="fa fa-check"></i><b>1</b> Preparation</a></li>
<li class="chapter" data-level="2" data-path="data-structures.html"><a href="data-structures.html"><i class="fa fa-check"></i><b>2</b> Data Structures</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-structures.html"><a href="data-structures.html#vectors"><i class="fa fa-check"></i><b>2.1</b> Vectors</a></li>
<li class="chapter" data-level="2.2" data-path="data-structures.html"><a href="data-structures.html#data-classes"><i class="fa fa-check"></i><b>2.2</b> Data Classes</a></li>
<li class="chapter" data-level="2.3" data-path="data-structures.html"><a href="data-structures.html#data-frames"><i class="fa fa-check"></i><b>2.3</b> Data Frames</a></li>
<li class="chapter" data-level="2.4" data-path="data-structures.html"><a href="data-structures.html#tidy-data"><i class="fa fa-check"></i><b>2.4</b> Tidy Data</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="read-external-data-files.html"><a href="read-external-data-files.html"><i class="fa fa-check"></i><b>3</b> Read External Data Files</a>
<ul>
<li class="chapter" data-level="3.1" data-path="read-external-data-files.html"><a href="read-external-data-files.html#entering-data"><i class="fa fa-check"></i><b>3.1</b> Entering Data</a></li>
<li class="chapter" data-level="3.2" data-path="read-external-data-files.html"><a href="read-external-data-files.html#saving-the-external-file"><i class="fa fa-check"></i><b>3.2</b> Saving the External File</a></li>
<li class="chapter" data-level="3.3" data-path="read-external-data-files.html"><a href="read-external-data-files.html#reading-the-external-file"><i class="fa fa-check"></i><b>3.3</b> Reading the External File</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="relational-data.html"><a href="relational-data.html"><i class="fa fa-check"></i><b>4</b> Relational Data</a>
<ul>
<li class="chapter" data-level="4.1" data-path="relational-data.html"><a href="relational-data.html#join-concepts"><i class="fa fa-check"></i><b>4.1</b> Join Concepts</a></li>
<li class="chapter" data-level="4.2" data-path="relational-data.html"><a href="relational-data.html#joins-in-r"><i class="fa fa-check"></i><b>4.2</b> Joins in R</a></li>
<li class="chapter" data-level="4.3" data-path="relational-data.html"><a href="relational-data.html#examples-with-context"><i class="fa fa-check"></i><b>4.3</b> Examples With Context</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="pivot.html"><a href="pivot.html"><i class="fa fa-check"></i><b>5</b> Pivot</a>
<ul>
<li class="chapter" data-level="5.1" data-path="pivot.html"><a href="pivot.html#data-formats"><i class="fa fa-check"></i><b>5.1</b> Data Formats</a></li>
<li class="chapter" data-level="5.2" data-path="pivot.html"><a href="pivot.html#pivoting-concepts"><i class="fa fa-check"></i><b>5.2</b> Pivoting Concepts</a></li>
<li class="chapter" data-level="5.3" data-path="pivot.html"><a href="pivot.html#pivoting-in-r"><i class="fa fa-check"></i><b>5.3</b> Pivoting in R</a></li>
<li class="chapter" data-level="5.4" data-path="pivot.html"><a href="pivot.html#pivoting-examples"><i class="fa fa-check"></i><b>5.4</b> Examples with Context</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="wrangle-columns.html"><a href="wrangle-columns.html"><i class="fa fa-check"></i><b>6</b> Wrangle Columns</a>
<ul>
<li class="chapter" data-level="6.1" data-path="wrangle-columns.html"><a href="wrangle-columns.html#dplyr-verbs"><i class="fa fa-check"></i><b>6.1</b> <code>dplyr</code> verbs</a></li>
<li class="chapter" data-level="6.2" data-path="wrangle-columns.html"><a href="wrangle-columns.html#pipe"><i class="fa fa-check"></i><b>6.2</b> Pipe</a></li>
<li class="chapter" data-level="6.3" data-path="wrangle-columns.html"><a href="wrangle-columns.html#selecting-variables"><i class="fa fa-check"></i><b>6.3</b> Selecting Variables</a></li>
<li class="chapter" data-level="6.4" data-path="wrangle-columns.html"><a href="wrangle-columns.html#moving-variables"><i class="fa fa-check"></i><b>6.4</b> Moving Variables</a></li>
<li class="chapter" data-level="6.5" data-path="wrangle-columns.html"><a href="wrangle-columns.html#renaming-variables"><i class="fa fa-check"></i><b>6.5</b> Renaming Variables</a></li>
<li class="chapter" data-level="6.6" data-path="wrangle-columns.html"><a href="wrangle-columns.html#adding-variables"><i class="fa fa-check"></i><b>6.6</b> Adding Variables</a></li>
<li class="chapter" data-level="6.7" data-path="wrangle-columns.html"><a href="wrangle-columns.html#columns-examples"><i class="fa fa-check"></i><b>6.7</b> Examples in Context</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="wrangle-rows.html"><a href="wrangle-rows.html"><i class="fa fa-check"></i><b>7</b> Wrangle Rows</a>
<ul>
<li class="chapter" data-level="7.1" data-path="wrangle-rows.html"><a href="wrangle-rows.html#filtering-rows"><i class="fa fa-check"></i><b>7.1</b> Filtering Rows</a></li>
<li class="chapter" data-level="7.2" data-path="wrangle-rows.html"><a href="wrangle-rows.html#arranging-rows"><i class="fa fa-check"></i><b>7.2</b> Arranging Rows</a></li>
<li class="chapter" data-level="7.3" data-path="wrangle-rows.html"><a href="wrangle-rows.html#appending-rows"><i class="fa fa-check"></i><b>7.3</b> Appending Rows</a></li>
<li class="chapter" data-level="7.4" data-path="wrangle-rows.html"><a href="wrangle-rows.html#examples-in-context"><i class="fa fa-check"></i><b>7.4</b> Examples in Context</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="groupings.html"><a href="groupings.html"><i class="fa fa-check"></i><b>8</b> Groupings</a></li>
<li class="chapter" data-level="9" data-path="dates-and-times.html"><a href="dates-and-times.html"><i class="fa fa-check"></i><b>9</b> Dates and Times</a>
<ul>
<li class="chapter" data-level="9.1" data-path="dates-and-times.html"><a href="dates-and-times.html#obtaining-dates-data"><i class="fa fa-check"></i><b>9.1</b> Obtaining Dates Data</a></li>
<li class="chapter" data-level="9.2" data-path="dates-and-times.html"><a href="dates-and-times.html#extracting-date-components"><i class="fa fa-check"></i><b>9.2</b> Extracting Date Components</a></li>
<li class="chapter" data-level="9.3" data-path="dates-and-times.html"><a href="dates-and-times.html#calculations-with-dates"><i class="fa fa-check"></i><b>9.3</b> Calculations with Dates</a></li>
<li class="chapter" data-level="9.4" data-path="dates-and-times.html"><a href="dates-and-times.html#obtaining-times-data"><i class="fa fa-check"></i><b>9.4</b> Obtaining Times Data</a></li>
<li class="chapter" data-level="9.5" data-path="dates-and-times.html"><a href="dates-and-times.html#examples-in-context-1"><i class="fa fa-check"></i><b>9.5</b> Examples in Context</a></li>
<li class="chapter" data-level="9.6" data-path="dates-and-times.html"><a href="dates-and-times.html#stream-discharge"><i class="fa fa-check"></i><b>9.6</b> Stream Discharge</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="factors.html"><a href="factors.html"><i class="fa fa-check"></i><b>10</b> Factors</a></li>
<li class="chapter" data-level="11" data-path="strings.html"><a href="strings.html"><i class="fa fa-check"></i><b>11</b> Strings</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/88x31.png" /></a></li>
<li><a href="https://bookdown.org" target="_blank">Built with Bookdown + RStudio</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Readings for MTH250 - Data Wrangling</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-structures" class="section level1" number="2">
<h1><span class="header-section-number">Module 2</span> Data Structures</h1>
<div id="vectors" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Vectors</h2>
<p>The vector is the primary unit for storing data in R. You can think of a vector as a set of similar items. Vectors are created in R by combining or concatenating together the individual items into a single set with <code>c()</code>. For example, the code below creates a vector of county names stored in an object called <code>cn</code> (perhaps, short for “county names”).</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb4-1"><a href="data-structures.html#cb4-1" aria-hidden="true" tabindex="-1"></a>cn <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Ashland&quot;</span>,<span class="st">&quot;Bayfield&quot;</span>,<span class="st">&quot;Douglas&quot;</span>,<span class="st">&quot;Iron&quot;</span>)</span></code></pre></div>
<p>Similarly the code below creates a vector of the population size in four counties stored in an object called <code>pop</code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb5-1"><a href="data-structures.html#cb5-1" aria-hidden="true" tabindex="-1"></a>pop <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">15512</span>,<span class="dv">15056</span>,<span class="dv">43164</span>,<span class="dv">5687</span>)</span></code></pre></div>
<div class="defn">
<p><strong>Vector</strong>: The variable thought to depend upon, be explained by, or be predicted by other variables.</p>
</div>
<p> </p>
<p>Individual items in a vector can be accessed by following the vector’s object name with <strong>square brackets</strong> that contain the numeric position of the item. For example, the second county in <code>cn</code> and the third population size in <code>pop</code> are extracted below.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb6-1"><a href="data-structures.html#cb6-1" aria-hidden="true" tabindex="-1"></a>cn[<span class="dv">2</span>]</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   [1] &quot;Bayfield&quot;</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb8-1"><a href="data-structures.html#cb8-1" aria-hidden="true" tabindex="-1"></a>pop[<span class="dv">3</span>]</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   [1] 43164</code></pre>
<p>Multiple items can be accessed by combining their position indices into a vector.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb10-1"><a href="data-structures.html#cb10-1" aria-hidden="true" tabindex="-1"></a>cn[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>)]</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   [1] &quot;Bayfield&quot; &quot;Douglas&quot;</code></pre>
</div>
<div id="data-classes" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Data Classes</h2>
<p>Vectors must contain the same “type” or class of items. There are four main classes of data in R.</p>
<ul>
<li><strong>num</strong>eric: Numbers that may have decimals; e.g., 12.3.</li>
<li><strong>int</strong>eger: Numbers that do not have decimals; e.g., 12.</li>
<li><strong>ch</strong>a<strong>r</strong>acter: Words; e.g., “Bayfield.”</li>
<li><strong>log</strong>ical: Logical that must be either <code>TRUE</code> or <code>FALSE</code>.</li>
</ul>
<p>The primary difference between numeric and integer classes is how the data are stored in memory. For most of our purposes this will be irrelevant, so there is no practical difference between these two classes for our work. However, integer values are entered into a vector by appending the value with an “L.”</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb12-1"><a href="data-structures.html#cb12-1" aria-hidden="true" tabindex="-1"></a>nabors <span class="ot">&lt;-</span> <span class="fu">c</span>(4L,3L,3L,3L)</span></code></pre></div>
<p>The values in a logical vector must be either <code>TRUE</code> or <code>FALSE</code>. Make sure to note that both of these values are in all capital letters.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb13-1"><a href="data-structures.html#cb13-1" aria-hidden="true" tabindex="-1"></a>cheqbay <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>,<span class="cn">TRUE</span>,<span class="cn">FALSE</span>,<span class="cn">FALSE</span>)</span></code></pre></div>
<p> </p>
<p>The class (i.e., type) of data in a vector is found with <code>class()</code>.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb14-1"><a href="data-structures.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(cn)</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb16-1"><a href="data-structures.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(pop)</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb18-1"><a href="data-structures.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(nabors)</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   [1] &quot;integer&quot;</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb20-1"><a href="data-structures.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(cheqbay)</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   [1] &quot;logical&quot;</code></pre>
<p>A <strong>factor</strong> is a special class of data where character items are specifically classified as representing groups or levels of items. A vector can be converted to a factor class with <code>factor()</code>.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb22-1"><a href="data-structures.html#cb22-1" aria-hidden="true" tabindex="-1"></a>fcn <span class="ot">&lt;-</span> <span class="fu">factor</span>(cn)</span>
<span id="cb22-2"><a href="data-structures.html#cb22-2" aria-hidden="true" tabindex="-1"></a>fcn</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   [1] Ashland  Bayfield Douglas  Iron    
#R&gt;   Levels: Ashland Bayfield Douglas Iron</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb24-1"><a href="data-structures.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(fcn)</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   [1] &quot;factor&quot;</code></pre>
<p>Factors have useful properties that will be discussed in more detail in subsequent modules.</p>
<p>As stated above, a vector should consist of items of the same class type. For example, this code does not make sense in most instances.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb26-1"><a href="data-structures.html#cb26-1" aria-hidden="true" tabindex="-1"></a>huh <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Ashland&quot;</span>,<span class="dv">15512</span>,<span class="cn">TRUE</span>,<span class="fl">3.65</span>)</span></code></pre></div>
<p>However, this will not produce an error, though it likely will not be what you want it to be. For example, examine the class of this object.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb27-1"><a href="data-structures.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(huh)</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   [1] &quot;character&quot;</code></pre>
<p>R uses hierarchical rules to assign a class for these odd situations. Rather than focusing on these rules it is more beneficial to remember that each vector should be of the same class type.</p>
<div class="tip">
<p>Items in vectors should all be the same class type.</p>
</div>
</div>
<div id="data-frames" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> Data Frames</h2>
<p>Vectors are useful for small numbers of items that have a single purpose. However, a data frame is more useful if you have multiple types of items (e.g., variables) recorded on a large number of individuals. Here we explore small data frames; larger data frames will be imported from external data sources in Module <a href="read-external-data-files.html#read-external-data-files">3</a>.</p>
<p>A data frame is a rectangular data structure where columns are vectors of the same class that represent variables recorded on individuals which are represented in rows. Simple data frames can be constructed with <code>data.frame()</code> with named arguments set equal to vectors of data. For example, the following code produces a data frame object called <code>counties</code> that has three variables called <code>name</code>, <code>pop</code>, and <code>party</code>.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb29-1"><a href="data-structures.html#cb29-1" aria-hidden="true" tabindex="-1"></a>counties <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">name=</span><span class="fu">c</span>(<span class="st">&quot;Ashland&quot;</span>,<span class="st">&quot;Bayfield&quot;</span>,<span class="st">&quot;Douglas&quot;</span>,<span class="st">&quot;Iron&quot;</span>,<span class="st">&quot;Sawyer&quot;</span>),</span>
<span id="cb29-2"><a href="data-structures.html#cb29-2" aria-hidden="true" tabindex="-1"></a>                       <span class="at">pop=</span><span class="fu">c</span>(<span class="dv">15512</span>,<span class="dv">15056</span>,<span class="dv">43164</span>,<span class="dv">5687</span>,<span class="dv">16746</span>),</span>
<span id="cb29-3"><a href="data-structures.html#cb29-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">party=</span><span class="fu">c</span>(<span class="st">&quot;Dem&quot;</span>,<span class="st">&quot;Dem&quot;</span>,<span class="st">&quot;Dem&quot;</span>,<span class="st">&quot;Rep&quot;</span>,<span class="st">&quot;Rep&quot;</span>))</span></code></pre></div>
<p>Type the name of the data frame object to see its contents.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb30-1"><a href="data-structures.html#cb30-1" aria-hidden="true" tabindex="-1"></a>counties</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;         name   pop party
#R&gt;   1  Ashland 15512   Dem
#R&gt;   2 Bayfield 15056   Dem
#R&gt;   3  Douglas 43164   Dem
#R&gt;   4     Iron  5687   Rep
#R&gt;   5   Sawyer 16746   Rep</code></pre>
<div class="tip">
<p>Columns of data frames correspond to variables whereas rows correspond to individuals.</p>
</div>
<p>Use <code>str()</code> to examine the structure of the data frame object, which will show that the object is a <code>data.frame</code>, show the number of individuals (label as <code>obs</code> for observations) and variables, and show the name of each column/variable along with its class type abbreviation and a snapshot of the first few items in each row.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb32-1"><a href="data-structures.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(counties)</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   &#39;data.frame&#39;: 5 obs. of  3 variables:
#R&gt;    $ name : chr  &quot;Ashland&quot; &quot;Bayfield&quot; &quot;Douglas&quot; &quot;Iron&quot; ...
#R&gt;    $ pop  : num  15512 15056 43164 5687 16746
#R&gt;    $ party: chr  &quot;Dem&quot; &quot;Dem&quot; &quot;Dem&quot; &quot;Rep&quot; ...</code></pre>
<p>As data frames are rectangular, individual items are accessed by using both the row and column positions within square brackets after the data frame object name.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb34-1"><a href="data-structures.html#cb34-1" aria-hidden="true" tabindex="-1"></a>counties[<span class="dv">1</span>,<span class="dv">2</span>]  <span class="co"># first row, second column</span></span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   [1] 15512</code></pre>
<div class="sourceCode" id="cb36"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb36-1"><a href="data-structures.html#cb36-1" aria-hidden="true" tabindex="-1"></a>counties[<span class="dv">3</span>,<span class="dv">1</span>]  <span class="co"># third row, first column</span></span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   [1] &quot;Douglas&quot;</code></pre>
<p>Entire rows or columns are accessed by providing the numerical position of the row or column and leaving the other indice blank.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb38-1"><a href="data-structures.html#cb38-1" aria-hidden="true" tabindex="-1"></a>counties[<span class="dv">1</span>,]  <span class="co"># First row</span></span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;        name   pop party
#R&gt;   1 Ashland 15512   Dem</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb40-1"><a href="data-structures.html#cb40-1" aria-hidden="true" tabindex="-1"></a>counties[,<span class="dv">1</span>]  <span class="co"># First column</span></span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   [1] &quot;Ashland&quot;  &quot;Bayfield&quot; &quot;Douglas&quot;  &quot;Iron&quot;     &quot;Sawyer&quot;</code></pre>
<p>Note that choosing rows or more than one column will return a data frame as it will likely have data of different classes.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb42-1"><a href="data-structures.html#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(counties[<span class="dv">1</span>,])      <span class="co"># one row is a data frame</span></span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   [1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb44-1"><a href="data-structures.html#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(counties[,<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>)]) <span class="co"># two columns is a data frame</span></span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   [1] &quot;data.frame&quot;</code></pre>
<p>However, choosing one column will return a vector of items all of the same class.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb46-1"><a href="data-structures.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(counties[,<span class="dv">1</span>])      <span class="co"># one column is a vector</span></span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   [1] &quot;character&quot;</code></pre>
<p>As columns are named we can also use the name to access a specific column.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb48-1"><a href="data-structures.html#cb48-1" aria-hidden="true" tabindex="-1"></a>counties[,<span class="st">&quot;pop&quot;</span>]</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   [1] 15512 15056 43164  5687 16746</code></pre>
<p>This same column can be accessed by separating the data frame object name from the column name with a <code>$</code>.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb50-1"><a href="data-structures.html#cb50-1" aria-hidden="true" tabindex="-1"></a>counties<span class="sc">$</span>pop</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   [1] 15512 15056 43164  5687 16746</code></pre>
<p>Again a column is simply a vector so you access single items in this vector in the usual way.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb52-1"><a href="data-structures.html#cb52-1" aria-hidden="true" tabindex="-1"></a>counties<span class="sc">$</span>pop[<span class="dv">3</span>]</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   [1] 43164</code></pre>
<div class="tip">
<p>A <code>$</code> is only used to separate a data frame name from the variable name within that data frame.</p>
</div>
<div id="tibbles" class="section level3" number="2.3.1">
<h3><span class="header-section-number">2.3.1</span> Tibbles</h3>
<p>Tibbles are a special form of data frame that was introduced as part of the “tidyverse.” Tibbles are created using <code>tibble()</code> in the same way that we used <code>data.frame()</code> previously.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb54-1"><a href="data-structures.html#cb54-1" aria-hidden="true" tabindex="-1"></a>counties2 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">name=</span><span class="fu">c</span>(<span class="st">&quot;Ashland&quot;</span>,<span class="st">&quot;Bayfield&quot;</span>,<span class="st">&quot;Douglas&quot;</span>,<span class="st">&quot;Iron&quot;</span>,<span class="st">&quot;Sawyer&quot;</span>),</span>
<span id="cb54-2"><a href="data-structures.html#cb54-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">pop=</span><span class="fu">c</span>(<span class="dv">15512</span>,<span class="dv">15056</span>,<span class="dv">43164</span>,<span class="dv">5687</span>,<span class="dv">16746</span>),</span>
<span id="cb54-3"><a href="data-structures.html#cb54-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">party=</span><span class="fu">c</span>(<span class="st">&quot;Dem&quot;</span>,<span class="st">&quot;Dem&quot;</span>,<span class="st">&quot;Dem&quot;</span>,<span class="st">&quot;Rep&quot;</span>,<span class="st">&quot;Rep&quot;</span>))</span></code></pre></div>
<p>For most of our purposes a tibble will behave exactly as a data frame. For example,</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb55-1"><a href="data-structures.html#cb55-1" aria-hidden="true" tabindex="-1"></a>counties2</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   # A tibble: 5 x 3
#R&gt;     name       pop party
#R&gt;     &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;
#R&gt;   1 Ashland  15512 Dem  
#R&gt;   2 Bayfield 15056 Dem  
#R&gt;   3 Douglas  43164 Dem  
#R&gt;   4 Iron      5687 Rep  
#R&gt;   5 Sawyer   16746 Rep</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb57-1"><a href="data-structures.html#cb57-1" aria-hidden="true" tabindex="-1"></a>counties2<span class="sc">$</span>pop</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   [1] 15512 15056 43164  5687 16746</code></pre>
<p>There are, however, differences between tibbles and data frames as described in <a href="https://r4ds.had.co.nz/tibbles.html">this introduction to tibbles</a>. The primary difference that you will notice in this course is that when you examine the contents of a tibble with a larger number of rows, columns, or both. For example the code below converts a data frame from the <code>FSA</code> package into a tibble.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb59-1"><a href="data-structures.html#cb59-1" aria-hidden="true" tabindex="-1"></a>tibex <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(FSA<span class="sc">::</span>WhitefishLC)</span></code></pre></div>
<p>However, when you try to display the data in this tibble you can see that only first 10 rows and as many columns as will fit on the width of your display are shown. In this case, 141 rows and one variable are not shown as seen in the note at the bottom.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb60-1"><a href="data-structures.html#cb60-1" aria-hidden="true" tabindex="-1"></a>tibex</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   # A tibble: 151 x 11
#R&gt;      fishID    tl scale1 scale2 scaleC finray1 finray2 finrayC otolith1 otolith2
#R&gt;       &lt;int&gt; &lt;int&gt;  &lt;int&gt;  &lt;int&gt;  &lt;int&gt;   &lt;int&gt;   &lt;int&gt;   &lt;int&gt;    &lt;int&gt;    &lt;int&gt;
#R&gt;    1      1   345      3      3      3       3       3       3        3        3
#R&gt;    2      2   334      4      3      4       3       3       3        3        3
#R&gt;    3      3   348      7      5      6       3       3       3        3        3
#R&gt;    4      4   300      4      3      4       3       2       3        3        3
#R&gt;    5      5   330      3      3      3       4       3       4        3        3
#R&gt;    6      6   316      4      4      4       2       3       3        6        5
#R&gt;    7      7   508      6      7      7       6       6       6        9       10
#R&gt;    8      8   475      4      5      5       9       9       9       11       12
#R&gt;    9      9   340      3      3      3       2       3       3        3        4
#R&gt;   10     10   173      1      1      1       2       1       1        1        1
#R&gt;   # ... with 141 more rows, and 1 more variable: otolithC &lt;int&gt;</code></pre>
<p>We will encounter tibbles in subsequent modules as some tidyverse functions return tibbles by default. A tibble can be converted to a data frame with <code>as.data.frame()</code>.</p>
</div>
</div>
<div id="tidy-data" class="section level2" number="2.4">
<h2><span class="header-section-number">2.4</span> Tidy Data</h2>
<p>Tidy Data was a term introduced <a href="http://www.jstatsoft.org/v59/i10/paper">here</a> in 2011 to describe a strict data organization that leads to consistency and efficiencies in data analyses. Tidy data is described in more detail <a href="https://r4ds.had.co.nz/tidy-data.html">here</a>.</p>
<p>Data can be organized in different ways. For example, below is the simple data frame from Section <a href="data-structures.html#data-frames">2.3</a>.</p>
<pre class="ROUTPUT"><code>#R&gt;         name   pop party
#R&gt;   1  Ashland 15512   Dem
#R&gt;   2 Bayfield 15056   Dem
#R&gt;   3  Douglas 43164   Dem
#R&gt;   4     Iron  5687   Rep
#R&gt;   5   Sawyer 16746   Rep</code></pre>
<p>However, these same data could be organized as below (among other possible organizations).</p>
<pre class="ROUTPUT"><code>#R&gt;        county variable value
#R&gt;   1   Ashland      pop 15512
#R&gt;   2   Ashland    party   Dem
#R&gt;   3  Bayfield      pop 15056
#R&gt;   4  Bayfield    party   Dem
#R&gt;   5   Douglas      pop 43164
#R&gt;   6   Douglas    party   Dem
#R&gt;   7      Iron      pop  5687
#R&gt;   8      Iron    party   Rep
#R&gt;   9    Sawyer      pop 16746
#R&gt;   10   Sawyer    party   Rep</code></pre>
<p>This second data frame is not “tidy” and is much more difficult to use.</p>
<p>Tidy data frames follow three simple rules (Figure <a href="data-structures.html#fig:tidyGraph">2.1</a>):</p>
<ol style="list-style-type: decimal">
<li>Each variable must have its own column.</li>
<li>Each observation must have its own row.</li>
<li>Each value must have its own cell.</li>
</ol>
<p>The original data frame above is “tidy.”</p>
<p> </p>
<div class="figure" style="text-align: center"><span id="fig:tidyGraph"></span>
<img src="zimgs/tidy_data.png" alt="Schematic illustration the structure of tidy data (from [RStudio Data Wrangling Cheat Sheet](https://www.rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf))" width="80%" />
<p class="caption">
Figure 2.1: Schematic illustration the structure of tidy data (from <a href="https://www.rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf">RStudio Data Wrangling Cheat Sheet</a>)
</p>
</div>
<p> </p>
<p>A common “challenge” when entering data in a tidy format occurs when data is recorded on individuals in separate groups. For example, the following data are methyl mercury levels recorded in mussels from two locations labeled as “impacted” and “reference.”</p>
<pre><code>  impacted   0.011  0.054  0.056  0.095  0.051  0.077
  reference  0.031  0.040  0.029  0.066  0.018  0.042  0.044</code></pre>
<p>In this case, you must realize that one “observation” is a methyl mercury measurement on a mussel AND to which group the mussel belongs. Thus, each observation results in the recording of two variables. For example, the first mussel had a methyl mercury level of 0.011 AND it was at the impacted site. With this understanding these data are entered in a tidy format as follows.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r RCODE"><code class="sourceCode r"><span id="cb65-1"><a href="data-structures.html#cb65-1" aria-hidden="true" tabindex="-1"></a>mussels <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">loc=</span><span class="fu">c</span>(<span class="st">&quot;impacted&quot;</span>,<span class="st">&quot;impacted&quot;</span>,<span class="st">&quot;impacted&quot;</span>,<span class="st">&quot;impacted&quot;</span>,<span class="st">&quot;impacted&quot;</span>,<span class="st">&quot;impacted&quot;</span>,</span>
<span id="cb65-2"><a href="data-structures.html#cb65-2" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot;reference&quot;</span>,<span class="st">&quot;reference&quot;</span>,<span class="st">&quot;reference&quot;</span>,<span class="st">&quot;reference&quot;</span>,</span>
<span id="cb65-3"><a href="data-structures.html#cb65-3" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot;reference&quot;</span>,<span class="st">&quot;reference&quot;</span>,<span class="st">&quot;reference&quot;</span>),</span>
<span id="cb65-4"><a href="data-structures.html#cb65-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">merc=</span><span class="fu">c</span>(<span class="fl">0.011</span>,<span class="fl">0.054</span>,<span class="fl">0.056</span>,<span class="fl">0.095</span>,<span class="fl">0.051</span>,<span class="fl">0.077</span>,</span>
<span id="cb65-5"><a href="data-structures.html#cb65-5" aria-hidden="true" tabindex="-1"></a>                         <span class="fl">0.031</span>,<span class="fl">0.040</span>,<span class="fl">0.029</span>,<span class="fl">0.066</span>,<span class="fl">0.018</span>,<span class="fl">0.042</span>,<span class="fl">0.044</span>))</span>
<span id="cb65-6"><a href="data-structures.html#cb65-6" aria-hidden="true" tabindex="-1"></a>mussels</span></code></pre></div>
<pre class="ROUTPUT"><code>#R&gt;   # A tibble: 13 x 2
#R&gt;      loc        merc
#R&gt;      &lt;chr&gt;     &lt;dbl&gt;
#R&gt;    1 impacted  0.011
#R&gt;    2 impacted  0.054
#R&gt;    3 impacted  0.056
#R&gt;    4 impacted  0.095
#R&gt;    5 impacted  0.051
#R&gt;    6 impacted  0.077
#R&gt;    7 reference 0.031
#R&gt;    8 reference 0.04 
#R&gt;    9 reference 0.029
#R&gt;   10 reference 0.066
#R&gt;   11 reference 0.018
#R&gt;   12 reference 0.042
#R&gt;   13 reference 0.044</code></pre>
<p>Tidy data will facilitate data wrangling in subsequent modules and data analysis and graphing in other courses.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="preparation.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="read-external-data-files.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"search": true
});
});
</script>

</body>

</html>
